# –ü–æ—Ç–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2026-02-12  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-02-12

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π

### –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

1. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ üöÄ –ó–ê–ü–£–°–¢–ò–¢–¨.bat –∏–ª–∏ `web_app.py`
   - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä –Ω–∞ localhost:5000

2. **–ó–∞–ø—É—Å–∫ –ø–æ–∏—Å–∫–∞:**
   - –í—ã–±–∏—Ä–∞–µ—Ç —Å—Ç—Ä–∞–Ω—É (–†–æ—Å—Å–∏—è, –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω, –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω) –∏–∑ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞
   - –í—ã–±–∏—Ä–∞–µ—Ç –≥–æ—Ä–æ–¥ –∏–∑ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞
   - –í—ã–±–∏—Ä–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é –±–∏–∑–Ω–µ—Å–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞:**
   - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤–µ–±-—Å–∫—Ä–∞–ø–∏–Ω–≥ 2GIS (Selenium + BeautifulSoup)
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
   - –°–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –∫–æ–º–ø–∞–Ω–∏—è—Ö

4. **–≠–∫—Å–ø–æ—Ä—Ç:**
   - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç Excel —Ñ–∞–π–ª —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∏–≤–∞–µ—Ç —Ñ–∞–π–ª –≤ –±—Ä–∞—É–∑–µ—Ä–µ
   - –§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç: –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ç–µ–ª–µ—Ñ–æ–Ω, –∞–¥—Ä–µ—Å, —Ä–µ–π—Ç–∏–Ω–≥, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ–ª–æ—Å–æ–≤, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–º–ø–∞–Ω–∏–∏

5. **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç Excel —Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ –∫–æ–º–ø–∞–Ω–∏–π

## –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–±—Ä–∞—É–∑–µ—Ä localhost:5000)
    ‚Üì
Flask (web_app.py)
    ‚Üì
–°–∫—Ä–∞–ø–µ—Ä (src/scraper.py) ‚Äî Selenium + BeautifulSoup
    ‚Üì
2GIS –≤–µ–±-—Å–∞–π—Ç (–ø—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
    ‚Üì
–ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö (src/models.py)
    ‚Üì
Excel —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä (src/excel_exporter.py)
    ‚Üì
–ê–≤—Ç–æ—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ Excel (static/js/app.js)
```

### –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

1. **–í–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º:**
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞ (—Å—Ç—Ä–∞–Ω–∞, –≥–æ—Ä–æ–¥, –∫–∞—Ç–µ–≥–æ—Ä–∏—è) —á–µ—Ä–µ–∑ –≤—ã–ø–∞–¥–∞—é—â–∏–µ —Å–ø–∏—Å–∫–∏

2. **–í–∞–ª–∏–¥–∞—Ü–∏—è:**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –≥–æ—Ä–æ–¥–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

3. **–í–µ–±-—Å–∫—Ä–∞–ø–∏–Ω–≥:**
   - Selenium –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã 2GIS
   - BeautifulSoup –ø–∞—Ä—Å–∏—Ç HTML
   - Callback –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä

4. **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:**
   - –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ Company
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª–µ–π

5. **–≠–∫—Å–ø–æ—Ä—Ç:**
   - –°–æ–∑–¥–∞–Ω–∏–µ Excel —Ñ–∞–π–ª–∞
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞

```
2gis-lead-gen/
‚îÇ
‚îú‚îÄ‚îÄ project-docs/              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ agent-onboarding.md    # –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ –¥–ª—è –Ω–æ–≤–æ–≥–æ –∞–≥–µ–Ω—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ index.md
‚îÇ   ‚îú‚îÄ‚îÄ overview.md
‚îÇ   ‚îú‚îÄ‚îÄ requirements.md
‚îÇ   ‚îú‚îÄ‚îÄ tech-specs.md
‚îÇ   ‚îú‚îÄ‚îÄ user-structure.md
‚îÇ   ‚îî‚îÄ‚îÄ timeline.md
‚îÇ
‚îú‚îÄ‚îÄ src/                       # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ scraper.py            # –í–µ–±-—Å–∫—Ä–∞–ø–∏–Ω–≥ 2GIS (Selenium + BeautifulSoup)
‚îÇ   ‚îú‚îÄ‚îÄ excel_exporter.py     # –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel
‚îÇ   ‚îú‚îÄ‚îÄ models.py             # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ cli.py                # CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îÇ
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îî‚îÄ‚îÄ index.html            # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ
‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îú‚îÄ‚îÄ css/style.css
‚îÇ   ‚îî‚îÄ‚îÄ js/app.js             # JavaScript —Å –∞–≤—Ç–æ—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ–º Excel
‚îÇ
‚îú‚îÄ‚îÄ .cursor/rules/
‚îÇ   ‚îî‚îÄ‚îÄ system-prompt.mdc
‚îÇ
‚îú‚îÄ‚îÄ web_app.py                # Flask —Å–µ—Ä–≤–µ—Ä (–æ—Å–Ω–æ–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞)
‚îú‚îÄ‚îÄ üöÄ –ó–ê–ü–£–°–¢–ò–¢–¨.bat         # –ó–∞–ø—É—Å–∫ –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ venv/                     # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–Ω–µ –≤ git)
```

## –û–ø–∏—Å–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π

### web_app.py
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** Flask –≤–µ–±-—Å–µ—Ä–≤–µ—Ä

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `index()` - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- `search_companies()` - API endpoint –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–æ–º–ø–∞–Ω–∏–π
- `get_progress()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- `download_excel()` - —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Flask, scraper, excel_exporter

### src/scraper.py
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–µ–±-—Å–∫—Ä–∞–ø–∏–Ω–≥ 2GIS (Selenium + BeautifulSoup, –±–µ–∑ API –∫–ª—é—á–∞)

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `search_companies(city, category, country)` - –ø–æ–∏—Å–∫ –∫–æ–º–ø–∞–Ω–∏–π
- `_setup_driver()` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Selenium WebDriver
- Callback –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** selenium, beautifulsoup4, webdriver-manager, models

### excel_exporter.py
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ Excel

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `export_to_excel(companies, filename)` - —ç–∫—Å–ø–æ—Ä—Ç —Å–ø–∏—Å–∫–∞ –∫–æ–º–ø–∞–Ω–∏–π –≤ Excel
- `_create_headers(worksheet)` - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∫–æ–ª–æ–Ω–æ–∫
- `_write_company_data(worksheet, company, row)` - –∑–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–∏

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- openpyxl
- models (–¥–ª—è Company)

### models.py
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã:**
- `Company` - –º–æ–¥–µ–ª—å –∫–æ–º–ø–∞–Ω–∏–∏ —Å –ø–æ–ª—è–º–∏:
  - name: str
  - phone: str
  - address: str
  - rating: float
  - voters_count: int
  - info: str

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- dataclasses (–≤—Å—Ç—Ä–æ–µ–Ω–æ)

### cli.py
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `search_command()` - –∫–æ–º–∞–Ω–¥–∞ –ø–æ–∏—Å–∫–∞ –∫–æ–º–ø–∞–Ω–∏–π
- `_validate_inputs()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- `_format_output()` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–≤–æ–¥–∞

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- click
- api_client
- excel_exporter
- models

### main.py
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `main()` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫ CLI

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- cli
- dotenv (–¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ .env)

## –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏

```
main.py
  ‚îî‚îÄ> cli.py
        ‚îú‚îÄ> api_client.py ‚îÄ‚îÄ> 2GIS API
        ‚îÇ     ‚îî‚îÄ> models.py (Company)
        ‚îÇ
        ‚îî‚îÄ> excel_exporter.py
              ‚îî‚îÄ> models.py (Company)
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

1. **–û—à–∏–±–∫–∏ —Å–∫—Ä–∞–ø–∏–Ω–≥–∞:**
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ scraper.py
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —á–µ—Ä–µ–∑ callback
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

2. **–û—à–∏–±–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞:**
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ excel_exporter.py
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª—É
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

3. **–û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ web_app.py
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
